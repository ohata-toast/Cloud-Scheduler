# 일정 생성
**Application Service > Cloud Scheduler > 콘솔 사용 가이드 > 일정 생성**


일정은 기본 정보, 대상 정보, 추가 설정 정보로 구성됩니다.

* 기본 정보: 일정 실행을 위한 유형, 주기, 시작/종료 일시를 선택합니다.
* 대상 정보: 일정이 호출한 API 정보 및 HTTP 메서드, 헤더, 파라미터를 입력합니다.
* 추가 설정: 일정 활성화/비활성화 여부 및 재시도 정책(횟수, 간격)을 설정합니다.

여기서는 일정 생성하는 단계를 자세하게 안내합니다.

!!! tip "알아두기"
    날짜 데이터는 한국 표준시(UTC+09:00) 기준입니다.


## 일정 생성하기

일정을 생성하려면 먼저 Cloud Scheduler 서비스를 활성화해야 합니다. [프로젝트 서비스 활성화 가이드](https://docs.nhncloud.com/ko/nhncloud/ko/console-guide/#_21)를 참고하여 Cloud Scheduler 서비스를 활성화하세요.

1. NHN Cloud 콘솔에서 **Application Service > Cloud Scheduler**를 클릭하세요.

1. **+ 일정 생성**을 클릭하세요.

1. 템플릿을 사용한다면 **사용**으로 선택하세요.

1. 사용하고 싶은 템플릿이 있다면 선택하세요.

1. 기본 정보 설정을 입력한 뒤 **다음**을 클릭하세요.
    * **이름**: 생성할 일정의 이름을 입력합니다. 최대 32자까지 입력할 수 있습니다. 
    * **설명**: 생성할 일정에 대한 설명을 입력합니다. 최대 255자까지 입력할 수 있습니다.
    * **실행 유형**: 일정 실행 유형을 선택합니다. 실행 유형은 **일회성** 또는 **반복**을 선택할 수 있으며, 선택한 유형에 따라 설정 항목이 달라집니다.
        * **일회성**: 작업을 지정한 시각에 한 번만 실행합니다. **실행 일시**를 입력합니다.
        * **반복**: 작업을 설정한 시간 또는 일정 간격으로 반복하여 실행합니다. **Cron**과 **Rate** 유형 중 하나를 선택하여 작업 실행 시점을 설정할 수 있습니다.
            * **Cron식**: 공백으로 구분된 5개의 필드로 작성합니다. 필드는 순서대로 '분 시 일 월 요일'입니다. 각 필드는 다음 표와 같이 입력할 수 있으며, 각 필드의 항목을 구분하거나 반복을 표시하기 위해 기호를 사용할 수도 있습니다.
            
              | 필드 | 값 | 입력 가능한 기호 |
              | --- | --- | --- |
              | 분 | 0~59 | `*`, `,`, `-` |
              | 시 | 0~24 | `*`, `,`, `-` |
              | 일 | 1~31 | `*`, `,`, `-` |
              | 월 | 1~12 또는 JAN~DEC | `*`, `,`, `-` |
              | 요일 | 0~6 또는 SUN~SAT | `*`, `,`, `-` | 
              
            * **Rate**: 일정 시간 간격(분/시간/일 단위)에 따라 일정을 실행합니다. 최대 30일(43,200분, 720시간)까지 등록할 수 있습니다.
            
        * **시작 일시**: 일정이 시작되는 날짜입니다. 시작 일시는 필수 입력 항목이며, 현재 시간으로부터 5분 뒤의 시간부터 설정할 수 있습니다.
        * **종료 일시**: 일정이 종료되는 날짜입니다. 설정하지 않을 경우 입력한 반복 주기로 일정을 계속 실행합니다.

1. 일정을 수행할 대상을 설정한 뒤 **다음**을 클릭하세요.
    * **URL**: 호출할 URL을 입력합니다. 최대 255자까지 입력할 수 있습니다.
    * **HTTP 메서드**: 드롭다운 목록을 클릭해 HTTP 메서드를 선택합니다.
    * **HTTP 헤더**: **+ 추가**를 클릭해 HTTP 헤더를 입력합니다. HTTP 헤더는 최대 20개까지 추가할 수 있으며, 추가한 전체 헤더 크기를 합산해 최대 8KB까지 입력할 수 있습니다.
    * **파라미터**: 요청 본문을 입력합니다. HTTP 메서드를 **POST**, **PUT**, **PATCH**로 선택 시 파라미터 필드가 표시됩니다. 입력 가능한 파라미터 크기는 56KB입니다.

1. 추가 설정을 완료한 뒤 **다음**을 클릭하세요.
    * **일정 활성화**: 일정 활성화 여부를 선택합니다.
    * **재시도 정책**: 일정 실행을 실패했을 때 다시 시도하도록 설정할 수 있습니다. **설정**을 선택하면 **재시도 간격**과 **최대 재시도 횟수** 필드가 표시됩니다.
        * API 호출을 실패할 경우 설정한 재시도 정책에 따라 일정을 재시도합니다.
        * API 성공 기준은 아래와 같습니다.
            * NHN Cloud 서비스: HTTP Response Status Code가 `200`이며, `$.header.isSuccessful` 값이 `true`일 경우
            * 외부 서비스: HTTP Response Status Code가 `2xx`
        * **재시도 간격**: 실패한 일정을 재시도할 간격을 입력합니다. 최소 1분에서 최대 60분까지 설정할 수 있습니다.
        * **최대 재시도 횟수**: 최대 재시도 횟수를 입력합니다. 최대 5회까지 설정할 수 있습니다.

1. **최종 검토 및 저장** 단계에서 앞서 설정한 정보를 확인한 뒤 **일정 생성**을 클릭하세요.

!!! tip "알아두기"
    * 템플릿 기능을 이용하여 미리 설정해 둔 정보를 빠르게 입력할 수 있습니다. [템플릿 관리](manage-schedule-template)를 참고하세요.
    * Cron식은 5개의 필드로 작성하며, 필드는 순서대로 '분 시 일 월 요일'입니다.
    * 원활한 일정 실행을 위해 시작 일시를 현재 시각보다 5분 이상 여유롭게 설정하세요.
    * 생성한 일정이 반영되는 데 최대 30초까지 걸릴 수 있습니다. 따라서 해당 시간 동안 활성화/비활성화를 포함한 일정 내용 변경에 실패할 수 있습니다.

!!! danger "주의"
    반복 유형을 **Rate**로 선택한 경우 일정 실행은 **시작 일시**와 **Rate** 값에 따라 변경될 수 있습니다. [Rate 일정의 동작 방식](create-schedule/#rate) 및 [일정 실행 예시](create-schedule/#_3)를 참고하여 올바르게 설정하세요.

## Rate 일정의 동작 방식

Rate 일정은 설정한 시간 간격에 따라 일정을 실행합니다.
여기에서는 Rate 일정의 동작 방식을 설명합니다.

* 최초 시작 일시: Rate 일정이 최초 시작되는 날짜는 사용자가 설정한 **시작 일시**입니다.
* 일정 실행 시간: Rate 일정의 실행 시간은 **시작 일시**를 기준으로 사용자가 설정한 **Rate** 간격마다 실행됩니다. 이는 비활성화 후 활성화 시에도 동일하게 적용됩니다.
* Rate 변경 시: Rate가 변경되면 변경된 Rate 간격에 따라 일정이 실행됩니다. 단, 직전 실행 시간과는 무관하게 **시작 일시**를 기준으로 변경된 **Rate** 간격에 맞게 실행됩니다.

## 일정 실행 예시

일정이 실행하는 시각은 설정한 시작 일시와 종료 일시, 그리고 어떠한 일정 유형으로 입력했는냐에 따라 다릅니다.
여기에서는 사용자의 이해를 돕기 위해 동일한 시작 일시와 종료 일시일 때 Cron, Rate 일정 유형에 따른 일정 실행 예시를 보여줍니다.

* **시작 일시**: 2024-01-05 00:00:00
* **종료 일시**: 2024-01-08 01:00:00
* Cron 일정일 경우
    * **Cron식**: 0 12 \* \* \* (매일 낮 12시 실행)
    * 첫 일정 실행 시간
        * 2024-01-05 12:00:00
    * 마지막 일정 실행 시간
        * 2024-01-07 12:00:00
* Rate 일정일 경우
    * 일반적인 상황
        * **Rate**: 12시간마다 실행
        * 첫 일정 실행 시간
            * 2024-01-05 00:00:00
        * 마지막 일정 실행 시간
            * 2024-01-08 00:00:00
    * 일정 비활성화 후 활성화
        * **Rate**: 3시간마다 실행
        * 1차 실행
            * 2024-01-05 00:00:00
        * 2차 실행
            * 2024-01-05 03:00:00
        * 일정 비활성화
            * 2024-01-05 04:00:00
        * 일정 활성화
            * 2024-01-05 10:00:00
        * 3차 실행
            * 2024-01-05 12:00:00
        * 4차 실행
            * 2024-01-05 15:00:00
    * **Rate** 변경
        * **Rate**: 3시간마다 실행
        * 1차 실행
            * 2024-01-05 00:00:00
        * 2차 실행
            * 2024-01-05 03:00:00
        * **Rate**: 4시간마다 실행으로 변경
            * 2024-01-05 05:00:00
        * 3차 실행
            * 2024-01-05 08:00:00
        * 4차 실행
            * 2024-01-05 12:00:00
